(()=>{"use strict";class t{createToDoForm=t=>{const e=this.createForm(),r=this.createLabels(["*Title:","*Description:","*Due Date:","*Priority:"]),o=this.createToDoInputs(["todo-title","todo-description"]);let n=this.joinLists(this.appendInputsToLabels(r,o),this.appendButtons(t,"to-do"));return this.appendElementsToForm(e,n)};createForm(){let t=document.createElement("form");return this.assignAttribute(t,"method","post"),t}assignAttribute(t,e,r=""){t.setAttribute(e,r)}createLabels(t){let e=[];for(const r of t)e.push(this.createLabel(r));return e}createLabel(t){const e=document.createElement("label");return e.textContent=t,e}createToDoInputs(t){const e=this.createTextInputs(t),r=this.createDistinctInputs();return this.joinLists(e,r)}createTextInputs(t){let e=[];for(const r of t)e.push(this.createInput(r));return e}createInput(t,e=""){const r=document.createElement("input");let o=["name","required"],n=[t,""];return e&&(o.push("type"),n.push(e)),this.assignAttributes(r,o,n),r}assignAttributes(t,e,r){for(let o=0;o<e.length;o++)this.assignAttribute(t,e[o],r[o])}createDistinctInputs(){return[this.createDatetimeLocalInput("todo-dueDate"),this.createNumberInput("todo-priority")]}createDatetimeLocalInput(t){const e=this.createInput(t,"datetime-local");return this.assignAttribute(e,"value",this.getCurrentDate()),e}getCurrentDate(){return(new Date).toJSON().slice(0,19)}createNumberInput(t){const e=this.createInput(t,"number");return this.assignAttributes(e,["min","max","placeholder"],["1","3","1"]),e}appendInputsToLabels(t,e){let r=this.deepCloneNodes(t);const o=this.deepCloneNodes(e);for(let e=0;e<t.length;e++)r[e].appendChild(o[e]);return r}joinLists(t,e){return t.concat(e)}deepCloneNodes(t){let e=[];for(const r of t)e.push(r.cloneNode(!0));return e}appendButtons(t,e){return[t,this.createSubmitButton(e)]}createSubmitButton(t){const e=document.createElement("input");let r=["submit",`Create ${t}`];return this.assignAttributes(e,["type","value"],r),e}appendElementsToForm(t,e){const r=this.deepCloneNodes(e);for(const e of r)t.appendChild(e);return t}createProjectForm=t=>{const e=this.createForm(),r=this.createLabels(["*Name:"]),o=this.createTextInputs(["project-name"]);let n=this.joinLists(this.appendInputsToLabels(r,o),this.appendButtons(t,"project"));return this.appendElementsToForm(e,n)}}class e{constructor(e=t){this.script=document.querySelector("script"),this.formCreator=new e}loadPage(){this.createHeader(),this.createSidebar(),this.createMain(),this.createFooter()}createHeader(){let t=document.createElement("header"),e=document.createElement("nav"),r=this.createNavbar();t.appendChild(e),e.appendChild(r),this.script.parentNode.insertBefore(t,this.script)}createNavbar(){let t=this.createUl("navbar"),e=[this.createButton("New to-do",{className:"new-to-do"}),this.createButton("New project",{className:"new-project"})];return this.appendListElements(t,e),t}createUl(t=""){const e=document.createElement("ul");return t&&e.classList.add(t),e}appendListElements(t,e){for(let r of e)t.appendChild(r)}loadForm=t=>{if(null===document.querySelector("form")){let e=document.querySelector("main");const r=t(this.createButton("Cancel",{type:"button"}));e.appendChild(r)}};createButton(t,e={}){let r=document.createElement("button");return r.textContent=t,e.type&&r.setAttribute("type",e.type),e.className&&r.classList.add(e.className),r}removeForm(){document.querySelector("form").remove()}addProjectToSidebar(t){let e=document.querySelector(".projects-list");const r=this.createButton(t,{className:"project-button"});e.appendChild(this.createLi(r))}createHeading(t,e){let r=document.createElement(e);return r.textContent=t,r}createLi(t){let e=document.createElement("li");return e.appendChild(t),e}createSidebar(){let t=document.createElement("nav"),e=[this.createHeading("Projects","h1"),this.createProjectsList()];this.appendListElements(t,e),this.script.parentNode.insertBefore(t,this.script)}createProjectsList(){let t=this.createUl("projects-list"),e=this.createButton("default",{className:"project-button"});return t.appendChild(this.createLi(e)),t}createMain(){const t=document.createElement("main");let e=this.createDiv("content");const r=this.createProjectContainer("default-container");e.appendChild(r),t.appendChild(e),this.script.parentNode.insertBefore(t,this.script)}createProjectContainer(t,e={}){let r=t.replace("-container",""),o=this.createDiv(t),n=this.createHeading(r,"h1"),s=this.loadTodos(r,e);return this.appendListElements(o,[n,s]),o}createDiv(t){let e=document.createElement("div");return e.classList.add(t),e}loadTodos(t,e){let r=this.createUl("todo-list");if(e.pm){let o=e.pm.searchProject(t),n=this.createTodos(o.todos);this.appendListElements(r,n)}return r}createTodos(t){let e=[];for(let r of t)e.push(this.createTodo(r.title,r.description));return e}createFooter(){const t=document.createElement("footer");this.script.parentNode.insertBefore(t,this.script)}loadProject(t){this.replaceProjectContainer(`${t}-container`),this.addProjectToSidebar(t),this.removeForm()}removeProjectContainer(){this.getCurrentProjectContainer().remove()}getCurrentProjectContainer(){return document.querySelector(".content > div")}replaceProjectContainer(t,e={}){let r=document.querySelector(".content"),o=this.createProjectContainer(t,e);this.removeProjectContainer(),r.appendChild(o)}getTodoList(){return document.querySelector(".todo-list")}getCurrentProjectName(){return this.getCurrentProjectContainer().className.split("-")[0]}createTodo(t,e){let r=this.createButton(""),o=this.createParagraph(`Title: ${t}, Description: ${e}`),n=this.createLi(r);return n.appendChild(o),n}createParagraph(t){let e=document.createElement("p");return e.textContent=t,e}loadTodo(t){this.getTodoList().appendChild(t)}}class r{addNavbarListener(t){document.querySelector(".navbar").addEventListener("click",(e=>this.handleNavbarButtons(e,t)))}handleNavbarButtons=(t,e)=>{let r=this.obtainDCO(e),o=e.validateFunctions,n=this.getAttributeFrom(t.target,"className"),s=this.getFormFunction(this.getFormCreator(r),n);"new-to-do"===n&&(r.loadForm(s),this.addFormListener(o[0],e)),"new-project"===n&&(r.loadForm(s),this.addFormListener(o[1],e))};obtainDCO(t){return t.dco}getAttributeFrom(t,e){return t[e]}getFormFunction(t,e){return"new-to-do"===e?t.createToDoForm:"new-project"===e?t.createProjectForm:void 0}getFormCreator(t){return t.formCreator}addFormListener(t,e){document.querySelector("form").addEventListener("click",(r=>this.handleFormButtons(r,t,e)))}handleFormButtons=(t,e,r)=>{let o=this.obtainDCO(r),n=this.getAttributeFrom(t.target,"type");"button"===n&&o.removeForm(),"submit"===n&&e(t,r)};addProjectsListListener(t={}){document.querySelector(".projects-list").addEventListener("click",(e=>this.handleProjectButtons(e,t)))}handleProjectButtons(t,e){if("project-button"===this.getAttributeFrom(t.target,"className")){let r=this.getAttributeFrom(t.target,"innerText");e.dco.replaceProjectContainer(r,{pm:e.pm})}}}class o{constructor(t){this.name=t,this.todos=[]}addTodo(t){this.todos.push(t)}get name(){return this._name}set name(t){this._name=t}get todos(){return this._todos}set todos(t){this._todos=t}removeTodo(){}}class n{constructor(t=o){this.projectList=[],this.addProject(new t("default"))}addProject(t){this.projectList.push(t)}validateProjectForm=(t,e,r=o)=>{let n=e.dco;const s=this.gatherProjectFormData(t);if(""===s)return void console.log("Couldn't create Project");const a=s.toLowerCase();let i=new r(a);this.addProject(i),n.loadProject(a)};gatherProjectFormData(t){return t.preventDefault(),document.querySelector("[name='project-name']").value}projectNameCoincides(t,e){return t.name===e}searchProject(t){return this.projectList.find((e=>this.projectNameCoincides(e,t)))}get projectList(){return this._projectList}set projectList(t){this._projectList=t}}class s{constructor(t){this.title=t.title,this.description=t.description,this.dueDate=t.dueDate,this.priority=t.priority}}class a{validateTodoForm=(t,e)=>{const r=this.gatherTodoFormData(t);r.includes("")?console.log("Couldn't create To-do"):this.addTodoToProject(r,e)};createTodo(t){return new s({title:t[0],description:t[1],dueDate:t[2],priority:t[3]})}addTodoToProject(t,e){let r=e.pm,o=e.dco,n=this.createTodo(t),s=o.getCurrentProjectName();r.searchProject(s).addTodo(n),o.loadTodo(o.createTodo(n.title,n.description)),o.removeForm()}gatherTodoFormData=t=>(t.preventDefault(),[document.querySelector("[name='todo-title']").value,document.querySelector("[name='todo-description']").value,document.querySelector("[name='todo-dueDate']").value,document.querySelector("[name='todo-priority']").value])}(new class{constructor(){this.myDCO=new e,this.myELA=new r,this.myPM=new n,this.myTM=new a}loadPage(){this.myDCO.loadPage(),this.myELA.addNavbarListener(this.getNavBarArguments()),this.myELA.addProjectsListListener({dco:this.myDCO,pm:this.myPM})}getNavBarArguments(){return{dco:this.myDCO,pm:this.myPM,validateFunctions:this.getValidateFunctions()}}getValidateFunctions(){return[this.myTM.validateTodoForm,this.myPM.validateProjectForm]}}).loadPage()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LHVCQUVFLE1BRGdCLENBQUMvTCxLQUFLNkwsS0FBS1IsaUJBQWtCckwsS0FBSzRMLEtBQUtyQixvQkFFekQsSUR6QmVyRyxVIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL2Zvcm0tY3JlYXRvci5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvZG9tLWNyZWF0b3IuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL2V2ZW50LWxpc3RlbmVyLWFncmVnYXRvci5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvcHJvamVjdC5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvcHJvamVjdC1tYW5hZ2VyLmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy90b2RvLmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy90b2RvLW1hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL2luZGV4LmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9wYWdlLWNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybUNyZWF0b3Ige1xuICBjcmVhdGVUb0RvRm9ybSA9IChidXR0b24pID0+IHtcbiAgICBjb25zdCBmb3JtID0gdGhpcy5jcmVhdGVGb3JtKCk7XG4gICAgY29uc3QgbGFiZWxDb250ZW50cyA9IFsnKlRpdGxlOicsICcqRGVzY3JpcHRpb246JywgJypEdWUgRGF0ZTonLCAnKlByaW9yaXR5OiddO1xuICAgIGNvbnN0IHRleHRJbnB1dE5hbWVzID0gWyd0b2RvLXRpdGxlJywgJ3RvZG8tZGVzY3JpcHRpb24nXTtcbiAgICBjb25zdCBsYWJlbHMgPSB0aGlzLmNyZWF0ZUxhYmVscyhsYWJlbENvbnRlbnRzKTtcbiAgICBjb25zdCBpbnB1dHMgPSB0aGlzLmNyZWF0ZVRvRG9JbnB1dHModGV4dElucHV0TmFtZXMpO1xuICAgIGxldCBlbGVtZW50cyA9IHRoaXMuam9pbkxpc3RzKFxuICAgICAgdGhpcy5hcHBlbmRJbnB1dHNUb0xhYmVscyhsYWJlbHMsIGlucHV0cyksXG4gICAgICB0aGlzLmFwcGVuZEJ1dHRvbnMoYnV0dG9uLCAndG8tZG8nKSk7XG4gICAgcmV0dXJuIHRoaXMuYXBwZW5kRWxlbWVudHNUb0Zvcm0oZm9ybSwgZWxlbWVudHMpO1xuICB9XG5cbiAgY3JlYXRlRm9ybSgpIHtcbiAgICBsZXQgZm9ybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Zvcm0nKTtcbiAgICB0aGlzLmFzc2lnbkF0dHJpYnV0ZShmb3JtLCAnbWV0aG9kJywgJ3Bvc3QnKTtcbiAgICByZXR1cm4gZm9ybTtcbiAgfVxuXG4gIGFzc2lnbkF0dHJpYnV0ZShlbGVtZW50ICxhdHRyaWJ1dGUsIHZhbHVlPScnKSB7XG4gICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoYXR0cmlidXRlLCB2YWx1ZSk7XG4gIH1cblxuICBjcmVhdGVMYWJlbHMobGFiZWxDb250ZW50cykge1xuICAgIGxldCBsYWJlbHMgPSBbXTtcbiAgICBmb3IgKGNvbnN0IGNvbnRlbnQgb2YgbGFiZWxDb250ZW50cylcbiAgICAgIGxhYmVscy5wdXNoKHRoaXMuY3JlYXRlTGFiZWwoY29udGVudCkpO1xuICAgIHJldHVybiBsYWJlbHM7XG4gIH1cblxuICBjcmVhdGVMYWJlbChjb250ZW50KSB7XG4gICAgY29uc3QgbGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICAgIGxhYmVsLnRleHRDb250ZW50ID0gY29udGVudDtcbiAgICByZXR1cm4gbGFiZWw7XG4gIH1cblxuICBjcmVhdGVUb0RvSW5wdXRzKHRleHRJbnB1dE5hbWVzKSB7XG4gICAgY29uc3QgdGV4dElucHV0cyA9IHRoaXMuY3JlYXRlVGV4dElucHV0cyh0ZXh0SW5wdXROYW1lcyk7XG4gICAgY29uc3QgZGlzdGluY3RJbnB1dHMgPSB0aGlzLmNyZWF0ZURpc3RpbmN0SW5wdXRzKCk7XG4gICAgcmV0dXJuIHRoaXMuam9pbkxpc3RzKHRleHRJbnB1dHMsIGRpc3RpbmN0SW5wdXRzKTtcbiAgfVxuXG4gIGNyZWF0ZVRleHRJbnB1dHMoaW5wdXROYW1lcykge1xuICAgIGxldCBpbnB1dHMgPSBbXTtcbiAgICBmb3IgKGNvbnN0IG5hbWUgb2YgaW5wdXROYW1lcylcbiAgICAgIGlucHV0cy5wdXNoKHRoaXMuY3JlYXRlSW5wdXQobmFtZSkpO1xuICAgIHJldHVybiBpbnB1dHM7XG4gIH1cblxuICBjcmVhdGVJbnB1dChuYW1lLCB0eXBlPScnKSB7XG4gICAgY29uc3QgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgIGxldCBhdHRyaWJ1dGVzID0gWyduYW1lJywgJ3JlcXVpcmVkJ107XG4gICAgbGV0IHZhbHVlcyA9IFtuYW1lLCAnJ107XG4gICAgaWYgKHR5cGUpIHtcbiAgICAgIGF0dHJpYnV0ZXMucHVzaCgndHlwZScpO1xuICAgICAgdmFsdWVzLnB1c2godHlwZSk7XG4gICAgfVxuICAgIHRoaXMuYXNzaWduQXR0cmlidXRlcyhpbnB1dCwgYXR0cmlidXRlcywgdmFsdWVzKTtcbiAgICByZXR1cm4gaW5wdXQ7XG4gIH1cblxuICBhc3NpZ25BdHRyaWJ1dGVzKGVsZW1lbnQsIGF0dHJpYnV0ZXMsIHZhbHVlcykge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXR0cmlidXRlcy5sZW5ndGg7IGkrKylcbiAgICAgIHRoaXMuYXNzaWduQXR0cmlidXRlKGVsZW1lbnQsIGF0dHJpYnV0ZXNbaV0sIHZhbHVlc1tpXSk7XG4gIH1cblxuICBjcmVhdGVEaXN0aW5jdElucHV0cygpIHtcbiAgICAvLyBUaGVzZSBpbnB1dHMgYXJlIHVzZWQgaW4gdGhlIHRvLWRvIGZvcm1cbiAgICBjb25zdCBkYXRlUGlja2VyID0gdGhpcy5jcmVhdGVEYXRldGltZUxvY2FsSW5wdXQoJ3RvZG8tZHVlRGF0ZScpO1xuICAgIGNvbnN0IG51bWJlcklucHV0ID0gdGhpcy5jcmVhdGVOdW1iZXJJbnB1dCgndG9kby1wcmlvcml0eScpO1xuICAgIHJldHVybiBbZGF0ZVBpY2tlciwgbnVtYmVySW5wdXRdO1xuICB9XG5cbiAgY3JlYXRlRGF0ZXRpbWVMb2NhbElucHV0KG5hbWUpIHtcbiAgICBjb25zdCBpbnB1dCA9IHRoaXMuY3JlYXRlSW5wdXQobmFtZSwgJ2RhdGV0aW1lLWxvY2FsJyk7XG4gICAgdGhpcy5hc3NpZ25BdHRyaWJ1dGUoaW5wdXQsICd2YWx1ZScsIHRoaXMuZ2V0Q3VycmVudERhdGUoKSk7XG4gICAgcmV0dXJuIGlucHV0O1xuICB9XG5cbiAgZ2V0Q3VycmVudERhdGUoKSB7XG4gICAgLy8gUmV0dXJucyBpbiB0aGUgZm9ybWF0IHl5eXktTU0tREQtVGhoOm1tXG4gICAgcmV0dXJuIG5ldyBEYXRlKCkudG9KU09OKCkuc2xpY2UoMCwxOSk7XG4gIH1cblxuICBjcmVhdGVOdW1iZXJJbnB1dChuYW1lKSB7XG4gICAgLy8gRm9yIHRoZSBtb21lbnQgaXQncyBvbmx5IHVzZWQgZm9yIGEgcHJpb3JpdHkgaW5wdXRcbiAgICBjb25zdCBpbnB1dCA9IHRoaXMuY3JlYXRlSW5wdXQobmFtZSwgJ251bWJlcicpO1xuICAgIGxldCBtaW5WYWx1ZSA9ICcxJztcbiAgICBsZXQgbWF4VmFsdWUgPSAnMyc7XG4gICAgbGV0IGF0dHJpYnV0ZXMgPSBbJ21pbicsICdtYXgnLCAncGxhY2Vob2xkZXInXTtcbiAgICBsZXQgdmFsdWVzID0gW21pblZhbHVlLCBtYXhWYWx1ZSwgbWluVmFsdWVdO1xuICAgIHRoaXMuYXNzaWduQXR0cmlidXRlcyhpbnB1dCwgYXR0cmlidXRlcywgdmFsdWVzKTtcbiAgICByZXR1cm4gaW5wdXQ7XG4gIH1cblxuICBhcHBlbmRJbnB1dHNUb0xhYmVscyhsYWJlbHMsIGlucHV0cykge1xuICAgIGxldCBsYWJlbHNEZWVwQ29weSA9IHRoaXMuZGVlcENsb25lTm9kZXMobGFiZWxzKTtcbiAgICBjb25zdCBpbnB1dHNEZWVwQ29weSA9IHRoaXMuZGVlcENsb25lTm9kZXMoaW5wdXRzKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxhYmVscy5sZW5ndGg7IGkrKylcbiAgICAgIGxhYmVsc0RlZXBDb3B5W2ldLmFwcGVuZENoaWxkKGlucHV0c0RlZXBDb3B5W2ldKTtcbiAgICByZXR1cm4gbGFiZWxzRGVlcENvcHk7XG4gIH1cblxuICBqb2luTGlzdHMoZmlyc3RMaXN0LCBzZWNvbmRMaXN0KSB7XG4gICAgcmV0dXJuIGZpcnN0TGlzdC5jb25jYXQoc2Vjb25kTGlzdCk7XG4gIH1cblxuICBkZWVwQ2xvbmVOb2Rlcyhub2Rlcykge1xuICAgIGxldCBkZWVwQ2xvbmVkTm9kZXMgPSBbXTtcbiAgICBmb3IgKGNvbnN0IG5vZGUgb2Ygbm9kZXMpXG4gICAgICBkZWVwQ2xvbmVkTm9kZXMucHVzaChub2RlLmNsb25lTm9kZSh0cnVlKSk7XG4gICAgcmV0dXJuIGRlZXBDbG9uZWROb2RlcztcbiAgfVxuXG4gIGFwcGVuZEJ1dHRvbnMoYnV0dG9uLCB2YWx1ZSkge1xuICAgIGNvbnN0IHN1Ym1pdEJ1dHRvbiA9IHRoaXMuY3JlYXRlU3VibWl0QnV0dG9uKHZhbHVlKTtcbiAgICByZXR1cm4gW2J1dHRvbiwgc3VibWl0QnV0dG9uXTtcbiAgfVxuXG4gIGNyZWF0ZVN1Ym1pdEJ1dHRvbih2YWx1ZSkge1xuICAgIGNvbnN0IHN1Ym1pdEJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgbGV0IGF0dHJpYnV0ZXMgPSBbJ3R5cGUnLCAndmFsdWUnXTtcbiAgICBsZXQgdmFsdWVzID0gWydzdWJtaXQnLCBgQ3JlYXRlICR7dmFsdWV9YF07XG4gICAgdGhpcy5hc3NpZ25BdHRyaWJ1dGVzKHN1Ym1pdEJ1dHRvbiwgYXR0cmlidXRlcywgdmFsdWVzKTtcbiAgICByZXR1cm4gc3VibWl0QnV0dG9uO1xuICB9XG5cbiAgYXBwZW5kRWxlbWVudHNUb0Zvcm0oZm9ybSwgZWxlbWVudHMpIHtcbiAgICBjb25zdCBlbGVtZW50c0RlZXBDb3B5ID0gdGhpcy5kZWVwQ2xvbmVOb2RlcyhlbGVtZW50cyk7XG4gICAgZm9yIChjb25zdCBlbGVtZW50IG9mIGVsZW1lbnRzRGVlcENvcHkpXG4gICAgICBmb3JtLmFwcGVuZENoaWxkKGVsZW1lbnQpO1xuICAgIHJldHVybiBmb3JtO1xuICB9XG5cbiAgY3JlYXRlUHJvamVjdEZvcm0gPSAoYnV0dG9uKSA9PiB7XG4gICAgY29uc3QgZm9ybSA9IHRoaXMuY3JlYXRlRm9ybSgpO1xuICAgIGNvbnN0IGxhYmVsID0gdGhpcy5jcmVhdGVMYWJlbHMoWycqTmFtZTonXSk7XG4gICAgY29uc3QgaW5wdXQgPSB0aGlzLmNyZWF0ZVRleHRJbnB1dHMoWydwcm9qZWN0LW5hbWUnXSk7XG4gICAgbGV0IGVsZW1lbnRzID0gdGhpcy5qb2luTGlzdHMoXG4gICAgICB0aGlzLmFwcGVuZElucHV0c1RvTGFiZWxzKGxhYmVsLCBpbnB1dCksXG4gICAgICB0aGlzLmFwcGVuZEJ1dHRvbnMoYnV0dG9uLCAncHJvamVjdCcpKTtcbiAgICByZXR1cm4gdGhpcy5hcHBlbmRFbGVtZW50c1RvRm9ybShmb3JtLCBlbGVtZW50cyk7XG4gIH1cbn1cbiIsImltcG9ydCBGb3JtQ3JlYXRvciBmcm9tIFwiLi9mb3JtLWNyZWF0b3IuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRE9NQ3JlYXRvciB7XG4gIGNvbnN0cnVjdG9yKGZvcm1DcmVhdG9yT2JqZWN0PUZvcm1DcmVhdG9yKSB7XG4gICAgdGhpcy5zY3JpcHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzY3JpcHQnKTtcbiAgICB0aGlzLmZvcm1DcmVhdG9yID0gbmV3IGZvcm1DcmVhdG9yT2JqZWN0KCk7XG4gIH1cblxuICBsb2FkUGFnZSgpIHtcbiAgICB0aGlzLmNyZWF0ZUhlYWRlcigpO1xuICAgIHRoaXMuY3JlYXRlU2lkZWJhcigpO1xuICAgIHRoaXMuY3JlYXRlTWFpbigpO1xuICAgIHRoaXMuY3JlYXRlRm9vdGVyKCk7XG4gIH1cblxuICBjcmVhdGVIZWFkZXIoKSB7XG4gICAgbGV0IGhlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2hlYWRlcicpO1xuICAgIGxldCBuYXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCduYXYnKTtcbiAgICBsZXQgbmF2YmFyID0gdGhpcy5jcmVhdGVOYXZiYXIoKTtcbiAgICBoZWFkZXIuYXBwZW5kQ2hpbGQobmF2KTtcbiAgICBuYXYuYXBwZW5kQ2hpbGQobmF2YmFyKTtcbiAgICB0aGlzLnNjcmlwdC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShoZWFkZXIsIHRoaXMuc2NyaXB0KTtcbiAgfVxuXG4gIGNyZWF0ZU5hdmJhcigpIHtcbiAgICAvLyBDb25zaWRlciBhZGRpbmcgbW9yZSBlbGVtZW50c1xuICAgIGxldCB1bCA9IHRoaXMuY3JlYXRlVWwoJ25hdmJhcicpO1xuICAgIGxldCB0b2RvQnV0dG9uID0gdGhpcy5jcmVhdGVCdXR0b24oJ05ldyB0by1kbycsIHtjbGFzc05hbWU6ICduZXctdG8tZG8nfSk7XG4gICAgbGV0IHByb2plY3RCdXR0b24gPSB0aGlzLmNyZWF0ZUJ1dHRvbignTmV3IHByb2plY3QnLFxuICAgICAge2NsYXNzTmFtZTogJ25ldy1wcm9qZWN0J30pO1xuICAgIGxldCBsaXN0RWxlbWVudHMgPSBbdG9kb0J1dHRvbiwgcHJvamVjdEJ1dHRvbl07XG4gICAgdGhpcy5hcHBlbmRMaXN0RWxlbWVudHModWwsIGxpc3RFbGVtZW50cyk7XG4gICAgcmV0dXJuIHVsO1xuICB9XG5cbiAgY3JlYXRlVWwoY2xhc3NOYW1lPScnKSB7XG4gICAgY29uc3QgdWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd1bCcpO1xuICAgIGlmIChjbGFzc05hbWUpXG4gICAgICB1bC5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZSk7XG4gICAgcmV0dXJuIHVsO1xuICB9XG5cbiAgYXBwZW5kTGlzdEVsZW1lbnRzKGxpc3QsIGVsZW1lbnRzKSB7XG4gICAgZm9yIChsZXQgZWxlbWVudCBvZiBlbGVtZW50cylcbiAgICAgIGxpc3QuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG4gIH1cblxuICBsb2FkRm9ybSA9IChjcmVhdGVGb3JtRnVuY3Rpb24pID0+IHtcbiAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZm9ybScpID09PSBudWxsKSB7XG4gICAgICBsZXQgbWFpbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ21haW4nKTtcbiAgICAgIGNvbnN0IGNhbmNlbEJ1dHRvbiA9IHRoaXMuY3JlYXRlQnV0dG9uKCdDYW5jZWwnLCB7dHlwZTogJ2J1dHRvbid9KTtcbiAgICAgIGNvbnN0IGZvcm0gPSBjcmVhdGVGb3JtRnVuY3Rpb24oY2FuY2VsQnV0dG9uKTtcbiAgICAgIG1haW4uYXBwZW5kQ2hpbGQoZm9ybSk7XG4gICAgfVxuICB9XG5cbiAgY3JlYXRlQnV0dG9uKGNvbnRlbnQsIGFyZ3M9e30pIHtcbiAgICBsZXQgbmV3QnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgbmV3QnV0dG9uLnRleHRDb250ZW50ID0gY29udGVudDtcbiAgICBpZiAoYXJnc1sndHlwZSddKVxuICAgICAgbmV3QnV0dG9uLnNldEF0dHJpYnV0ZSgndHlwZScsIGFyZ3NbJ3R5cGUnXSk7XG4gICAgaWYgKGFyZ3NbJ2NsYXNzTmFtZSddKVxuICAgICAgbmV3QnV0dG9uLmNsYXNzTGlzdC5hZGQoYXJnc1snY2xhc3NOYW1lJ10pO1xuICAgIHJldHVybiBuZXdCdXR0b247XG4gIH1cblxuICByZW1vdmVGb3JtKCkge1xuICAgIGNvbnN0IGZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdmb3JtJyk7XG4gICAgZm9ybS5yZW1vdmUoKTtcbiAgfVxuXG4gIGFkZFByb2plY3RUb1NpZGViYXIocHJvamVjdE5hbWUpIHtcbiAgICBsZXQgcHJvamVjdHNMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2plY3RzLWxpc3QnKTtcbiAgICBjb25zdCBuZXdQcm9qZWN0ID0gdGhpcy5jcmVhdGVCdXR0b24oXG4gICAgICBwcm9qZWN0TmFtZSwgeyBjbGFzc05hbWU6ICdwcm9qZWN0LWJ1dHRvbicgfSk7XG4gICAgcHJvamVjdHNMaXN0LmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlTGkobmV3UHJvamVjdCkpO1xuICB9XG5cbiAgY3JlYXRlSGVhZGluZyhjb250ZW50LCBoZWFkaW5nKSB7XG4gICAgbGV0IGhlYWRpbmdFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChoZWFkaW5nKTtcbiAgICBoZWFkaW5nRWxlbWVudC50ZXh0Q29udGVudCA9IGNvbnRlbnQ7XG4gICAgcmV0dXJuIGhlYWRpbmdFbGVtZW50O1xuICB9XG5cbiAgY3JlYXRlTGkoZWxlbWVudCkge1xuICAgIGxldCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgbGkuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG4gICAgcmV0dXJuIGxpO1xuICB9XG5cbiAgY3JlYXRlU2lkZWJhcigpIHtcbiAgICBsZXQgbmF2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbmF2Jyk7XG4gICAgY29uc3QgcHJvamVjdHNIMSA9IHRoaXMuY3JlYXRlSGVhZGluZygnUHJvamVjdHMnLCAnaDEnKTtcbiAgICBsZXQgcHJvamVjdHNMaXN0ID0gdGhpcy5jcmVhdGVQcm9qZWN0c0xpc3QoKTtcbiAgICBsZXQgbGlzdEVsZW1lbnRzID0gW3Byb2plY3RzSDEsIHByb2plY3RzTGlzdF07XG4gICAgdGhpcy5hcHBlbmRMaXN0RWxlbWVudHMobmF2LCBsaXN0RWxlbWVudHMpO1xuICAgIHRoaXMuc2NyaXB0LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG5hdiwgdGhpcy5zY3JpcHQpO1xuICB9XG5cbiAgY3JlYXRlUHJvamVjdHNMaXN0KCkge1xuICAgIGxldCBwcm9qZWN0c0xpc3QgPSB0aGlzLmNyZWF0ZVVsKCdwcm9qZWN0cy1saXN0Jyk7XG4gICAgbGV0IGRlZmF1bHRCdXR0b24gPSB0aGlzLmNyZWF0ZUJ1dHRvbihcbiAgICAgICdkZWZhdWx0JywgeyBjbGFzc05hbWU6ICdwcm9qZWN0LWJ1dHRvbicgfSk7XG4gICAgcHJvamVjdHNMaXN0LmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlTGkoZGVmYXVsdEJ1dHRvbikpO1xuICAgIHJldHVybiBwcm9qZWN0c0xpc3Q7XG4gIH1cblxuICBjcmVhdGVNYWluKCkge1xuICAgIGNvbnN0IG1haW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdtYWluJyk7XG4gICAgbGV0IGNvbnRlbnQgPSB0aGlzLmNyZWF0ZURpdignY29udGVudCcpO1xuICAgIGNvbnN0IGRlZmF1bHRDb250YWluZXIgPSB0aGlzLmNyZWF0ZVByb2plY3RDb250YWluZXIoJ2RlZmF1bHQtY29udGFpbmVyJylcbiAgICBjb250ZW50LmFwcGVuZENoaWxkKGRlZmF1bHRDb250YWluZXIpO1xuICAgIG1haW4uYXBwZW5kQ2hpbGQoY29udGVudCk7XG4gICAgdGhpcy5zY3JpcHQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobWFpbiwgdGhpcy5zY3JpcHQpO1xuICB9XG5cbiAgY3JlYXRlUHJvamVjdENvbnRhaW5lcihwcm9qZWN0Q2xhc3NOYW1lLCBhcmdzPXt9KSB7XG4gICAgLy8gQ29uc2lkZXIgYSBtZXRob2QgaW4gYW5vdGhlciBtb2R1bGUgdG8gY2hhbmdlIHRoaXMgbGluZVxuICAgIGxldCBwcm9qZWN0TmFtZSA9IHByb2plY3RDbGFzc05hbWUucmVwbGFjZSgnLWNvbnRhaW5lcicsICcnKTtcbiAgICBsZXQgcHJvamVjdENvbnRhaW5lciA9IHRoaXMuY3JlYXRlRGl2KHByb2plY3RDbGFzc05hbWUpO1xuICAgIGxldCBwcm9qZWN0SGVhZGluZyA9IHRoaXMuY3JlYXRlSGVhZGluZyhwcm9qZWN0TmFtZSwgJ2gxJyk7XG4gICAgbGV0IHRvZG9MaXN0ID0gdGhpcy5sb2FkVG9kb3MocHJvamVjdE5hbWUsIGFyZ3MpO1xuICAgIHRoaXMuYXBwZW5kTGlzdEVsZW1lbnRzKHByb2plY3RDb250YWluZXIsIFtwcm9qZWN0SGVhZGluZywgdG9kb0xpc3RdKTtcbiAgICByZXR1cm4gcHJvamVjdENvbnRhaW5lcjtcbiAgfVxuXG4gIGNyZWF0ZURpdihjbGFzc05hbWUpIHtcbiAgICBsZXQgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZGl2LmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTtcbiAgICByZXR1cm4gZGl2O1xuICB9XG4gIFxuICBsb2FkVG9kb3MocHJvamVjdE5hbWUsIGFyZ3MpIHtcbiAgICBsZXQgdG9kb0xpc3QgPSB0aGlzLmNyZWF0ZVVsKCd0b2RvLWxpc3QnKTtcbiAgICBpZiAoYXJnc1sncG0nXSkge1xuICAgICAgbGV0IHByb2plY3RPYmplY3QgPSBhcmdzWydwbSddLnNlYXJjaFByb2plY3QocHJvamVjdE5hbWUpO1xuICAgICAgbGV0IHRvZG9zID0gdGhpcy5jcmVhdGVUb2Rvcyhwcm9qZWN0T2JqZWN0LnRvZG9zKTtcbiAgICAgIHRoaXMuYXBwZW5kTGlzdEVsZW1lbnRzKHRvZG9MaXN0LCB0b2Rvcyk7XG4gICAgfVxuICAgIHJldHVybiB0b2RvTGlzdDtcbiAgfVxuXG4gIGNyZWF0ZVRvZG9zKHRvZG9zKSB7XG4gICAgbGV0IGxpVG9kb3MgPSBbXTtcbiAgICBmb3IgKGxldCB0b2RvIG9mIHRvZG9zKVxuICAgICAgbGlUb2Rvcy5wdXNoKHRoaXMuY3JlYXRlVG9kbyh0b2RvLnRpdGxlLCB0b2RvLmRlc2NyaXB0aW9uKSk7XG4gICAgcmV0dXJuIGxpVG9kb3M7XG4gIH1cblxuICBjcmVhdGVGb290ZXIoKSB7XG4gICAgY29uc3QgZm9vdGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZm9vdGVyJyk7XG4gICAgdGhpcy5zY3JpcHQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZm9vdGVyLCB0aGlzLnNjcmlwdCk7XG4gIH1cblxuICBsb2FkUHJvamVjdChmb3JtRGF0YSkge1xuICAgIHRoaXMucmVwbGFjZVByb2plY3RDb250YWluZXIoYCR7Zm9ybURhdGF9LWNvbnRhaW5lcmApO1xuICAgIHRoaXMuYWRkUHJvamVjdFRvU2lkZWJhcihmb3JtRGF0YSk7XG4gICAgdGhpcy5yZW1vdmVGb3JtKCk7XG4gIH1cblxuICByZW1vdmVQcm9qZWN0Q29udGFpbmVyKCkge1xuICAgIGNvbnN0IHByb2plY3RDb250YWluZXIgPSB0aGlzLmdldEN1cnJlbnRQcm9qZWN0Q29udGFpbmVyKCk7XG4gICAgcHJvamVjdENvbnRhaW5lci5yZW1vdmUoKTtcbiAgfVxuXG4gIGdldEN1cnJlbnRQcm9qZWN0Q29udGFpbmVyKCkge1xuICAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29udGVudCA+IGRpdicpO1xuICB9XG5cbiAgcmVwbGFjZVByb2plY3RDb250YWluZXIocHJvamVjdENsYXNzTmFtZSwgYXJncz17fSkge1xuICAgIGxldCBjb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRlbnQnKTtcbiAgICBsZXQgbmV3UHJvamVjdENvbnRhaW5lciA9IHRoaXMuY3JlYXRlUHJvamVjdENvbnRhaW5lcihcbiAgICAgIHByb2plY3RDbGFzc05hbWUsIGFyZ3MpO1xuICAgIHRoaXMucmVtb3ZlUHJvamVjdENvbnRhaW5lcigpO1xuICAgIGNvbnRlbnQuYXBwZW5kQ2hpbGQobmV3UHJvamVjdENvbnRhaW5lcik7XG4gIH1cblxuICBnZXRUb2RvTGlzdCgpIHtcbiAgICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRvZG8tbGlzdCcpO1xuICB9XG5cbiAgZ2V0Q3VycmVudFByb2plY3ROYW1lKCkge1xuICAgIGNvbnN0IHByb2plY3RDb250YWluZXIgPSB0aGlzLmdldEN1cnJlbnRQcm9qZWN0Q29udGFpbmVyKCk7XG4gICAgbGV0IHByb2plY3RDbGFzc05hbWUgPSBwcm9qZWN0Q29udGFpbmVyLmNsYXNzTmFtZTtcbiAgICByZXR1cm4gcHJvamVjdENsYXNzTmFtZS5zcGxpdCgnLScpWzBdO1xuICB9XG5cbiAgY3JlYXRlVG9kbyh0aXRsZSwgZGVzY3JpcHRpb24pIHtcbiAgICBsZXQgYnV0dG9uID0gdGhpcy5jcmVhdGVCdXR0b24oJycpO1xuICAgIGxldCB0b2RvSW5mbyA9IHRoaXMuY3JlYXRlUGFyYWdyYXBoKFxuICAgICAgYFRpdGxlOiAke3RpdGxlfSwgRGVzY3JpcHRpb246ICR7ZGVzY3JpcHRpb259YCk7XG4gICAgLy8gTWF5YmUgY2hhbmdlIHRoZSBjcmVhdGUgbGkgdG8gYWNjZXB0IHR3byBvciBtb3JlIGVsZW1lbnRzXG4gICAgbGV0IGxpID0gdGhpcy5jcmVhdGVMaShidXR0b24pO1xuICAgIGxpLmFwcGVuZENoaWxkKHRvZG9JbmZvKTtcbiAgICByZXR1cm4gbGk7XG4gIH1cblxuICBjcmVhdGVQYXJhZ3JhcGgoY29udGVudCkge1xuICAgIGxldCBwYXJhZ3JhcGggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgcGFyYWdyYXBoLnRleHRDb250ZW50ID0gY29udGVudDtcbiAgICByZXR1cm4gcGFyYWdyYXBoO1xuICB9XG5cbiAgbG9hZFRvZG8odG9kbykge1xuICAgIGxldCB0b2RvTGlzdCA9IHRoaXMuZ2V0VG9kb0xpc3QoKTtcbiAgICB0b2RvTGlzdC5hcHBlbmRDaGlsZCh0b2RvKTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRXZlbnRMaXN0ZW5lckFncmVnYXRvciB7XG4gIC8vIGRjbyBtZWFucyBET01DcmVhdG9yT2JqZWN0XG5cbiAgYWRkTmF2YmFyTGlzdGVuZXIoYXJncykge1xuICAgIGxldCBuYXZiYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2YmFyJyk7XG4gICAgbmF2YmFyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJyxcbiAgICAgIChldmVudCkgPT4gdGhpcy5oYW5kbGVOYXZiYXJCdXR0b25zKGV2ZW50LCBhcmdzKSk7XG4gIH1cblxuICBoYW5kbGVOYXZiYXJCdXR0b25zID0gKGV2ZW50LCBhcmdzKSA9PiB7XG4gICAgbGV0IGRjbyA9IHRoaXMub2J0YWluRENPKGFyZ3MpO1xuICAgIGxldCB2YWxpZGF0ZUZ1bmN0aW9ucyA9IGFyZ3NbJ3ZhbGlkYXRlRnVuY3Rpb25zJ107XG4gICAgbGV0IGJ1dHRvbkNsYXNzTmFtZSA9IHRoaXMuZ2V0QXR0cmlidXRlRnJvbShldmVudC50YXJnZXQsICdjbGFzc05hbWUnKTtcbiAgICBsZXQgZm9ybUZ1bmN0aW9uID0gdGhpcy5nZXRGb3JtRnVuY3Rpb24oXG4gICAgICB0aGlzLmdldEZvcm1DcmVhdG9yKGRjbyksIGJ1dHRvbkNsYXNzTmFtZSk7XG4gICAgaWYgKGJ1dHRvbkNsYXNzTmFtZSA9PT0gJ25ldy10by1kbycpIHtcbiAgICAgIGRjby5sb2FkRm9ybShmb3JtRnVuY3Rpb24pO1xuICAgICAgdGhpcy5hZGRGb3JtTGlzdGVuZXIodmFsaWRhdGVGdW5jdGlvbnNbMF0sIGFyZ3MpO1xuICAgIH1cbiAgICBpZiAoYnV0dG9uQ2xhc3NOYW1lID09PSAnbmV3LXByb2plY3QnKSB7XG4gICAgICBkY28ubG9hZEZvcm0oZm9ybUZ1bmN0aW9uKTtcbiAgICAgIHRoaXMuYWRkRm9ybUxpc3RlbmVyKHZhbGlkYXRlRnVuY3Rpb25zWzFdLCBhcmdzKTtcbiAgICB9XG4gIH1cblxuICBvYnRhaW5EQ08oYXJncykge1xuICAgIHJldHVybiBhcmdzWydkY28nXTtcbiAgfVxuXG4gIGdldEF0dHJpYnV0ZUZyb20oZWxlbWVudCwgYXR0cmlidXRlKSB7XG4gICAgcmV0dXJuIGVsZW1lbnRbYXR0cmlidXRlXTtcbiAgfVxuXG4gIGdldEZvcm1GdW5jdGlvbihmb3JtQ3JlYXRvciwgZm9ybSkge1xuICAgIGlmIChmb3JtID09PSAnbmV3LXRvLWRvJylcbiAgICAgIHJldHVybiBmb3JtQ3JlYXRvci5jcmVhdGVUb0RvRm9ybTtcbiAgICBpZiAoZm9ybSA9PT0gJ25ldy1wcm9qZWN0JylcbiAgICAgIHJldHVybiBmb3JtQ3JlYXRvci5jcmVhdGVQcm9qZWN0Rm9ybTtcbiAgfVxuXG4gIGdldEZvcm1DcmVhdG9yKGRjbykge1xuICAgIHJldHVybiBkY28uZm9ybUNyZWF0b3I7XG4gIH1cblxuICBhZGRGb3JtTGlzdGVuZXIodmFsaWRhdGVGdW5jdGlvbiwgYXJncykge1xuICAgIGxldCBmb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZm9ybScpO1xuICAgIGZvcm0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLFxuICAgICAgKGV2ZW50KSA9PiB0aGlzLmhhbmRsZUZvcm1CdXR0b25zKGV2ZW50LCB2YWxpZGF0ZUZ1bmN0aW9uLCBhcmdzKSk7XG4gIH1cblxuICBoYW5kbGVGb3JtQnV0dG9ucyA9IChldmVudCwgdmFsaWRhdGVGdW5jdGlvbiwgYXJncykgPT4ge1xuICAgIGxldCBkY28gPSB0aGlzLm9idGFpbkRDTyhhcmdzKTtcbiAgICBsZXQgYnV0dG9uVHlwZSA9IHRoaXMuZ2V0QXR0cmlidXRlRnJvbShldmVudC50YXJnZXQsICd0eXBlJyk7XG4gICAgaWYgKGJ1dHRvblR5cGUgPT09ICdidXR0b24nKVxuICAgICAgZGNvLnJlbW92ZUZvcm0oKTtcbiAgICBpZiAoYnV0dG9uVHlwZSA9PT0gJ3N1Ym1pdCcpXG4gICAgICB2YWxpZGF0ZUZ1bmN0aW9uKGV2ZW50LCBhcmdzKTtcbiAgfVxuXG4gIGFkZFByb2plY3RzTGlzdExpc3RlbmVyKGFyZ3M9e30pIHtcbiAgICBsZXQgcHJvamVjdHNMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2plY3RzLWxpc3QnKTtcbiAgICBwcm9qZWN0c0xpc3QuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+XG4gICAgICB0aGlzLmhhbmRsZVByb2plY3RCdXR0b25zKGV2ZW50LCBhcmdzKSk7XG4gIH1cblxuICBoYW5kbGVQcm9qZWN0QnV0dG9ucyhldmVudCwgYXJncykge1xuICAgIGxldCBjbGFzc05hbWUgPSB0aGlzLmdldEF0dHJpYnV0ZUZyb20oZXZlbnQudGFyZ2V0LCAnY2xhc3NOYW1lJyk7XG4gICAgaWYgKGNsYXNzTmFtZSA9PT0gJ3Byb2plY3QtYnV0dG9uJykge1xuICAgICAgbGV0IHByb2plY3ROYW1lID0gdGhpcy5nZXRBdHRyaWJ1dGVGcm9tKGV2ZW50LnRhcmdldCwgJ2lubmVyVGV4dCcpO1xuICAgICAgYXJnc1snZGNvJ10ucmVwbGFjZVByb2plY3RDb250YWluZXIocHJvamVjdE5hbWUsIHsgcG06IGFyZ3NbJ3BtJ10gfSk7XG4gICAgfVxuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQcm9qZWN0IHsgIFxuICBjb25zdHJ1Y3RvcihuYW1lKSB7XG4gICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB0aGlzLnRvZG9zID0gW107XG4gIH1cblxuICBhZGRUb2RvKHRvZG8pIHtcbiAgICB0aGlzLnRvZG9zLnB1c2godG9kbyk7XG4gIH1cblxuICBnZXQgbmFtZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fbmFtZTtcbiAgfVxuXG4gIHNldCBuYW1lKHZhbHVlKSB7XG4gICAgdGhpcy5fbmFtZSA9IHZhbHVlO1xuICB9XG5cbiAgZ2V0IHRvZG9zKCkge1xuICAgIHJldHVybiB0aGlzLl90b2RvcztcbiAgfVxuXG4gIHNldCB0b2Rvcyh2YWx1ZSkge1xuICAgIHRoaXMuX3RvZG9zID0gdmFsdWU7XG4gIH1cblxuICByZW1vdmVUb2RvKCkge1xuICAgIC8vIGdldCB0aGUgaW5kZXggb2YgdGhlIGVsZW1lbnQgdG8gYmUgcmVtb3ZlZCAoY3JlYXRlIG90aGVyIGZ1bmN0aW9uIGZvciBpdClcbiAgICAvLyB1c2UgdGhlIG5leHQgbGluZVxuICAgIC8vIHRoaXMudG9kb3MgPSB0aGlzLnRvZG9zLnNsaWNlKDAsIG4pLmNvbmNhdCh0aGlzLnRvZG9zLnNsaWNlKG4gKyAxKSlcbiAgfVxufVxuIiwiaW1wb3J0IFByb2plY3QgZnJvbSAnLi9wcm9qZWN0LmpzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJvamVjdE1hbmFnZXIge1xuICBjb25zdHJ1Y3Rvcihwcm9qZWN0T2JqZWN0PVByb2plY3QpIHtcbiAgICB0aGlzLnByb2plY3RMaXN0ID0gW107XG4gICAgdGhpcy5hZGRQcm9qZWN0KG5ldyBwcm9qZWN0T2JqZWN0KCdkZWZhdWx0JykpO1xuICB9XG5cbiAgYWRkUHJvamVjdChwcm9qZWN0KSB7XG4gICAgdGhpcy5wcm9qZWN0TGlzdC5wdXNoKHByb2plY3QpO1xuICB9XG5cbiAgdmFsaWRhdGVQcm9qZWN0Rm9ybSA9IChldmVudCwgYXJncywgcHJvamVjdE9iamVjdD1Qcm9qZWN0KSA9PiB7XG4gICAgbGV0IGRjbyA9IGFyZ3NbJ2RjbyddO1xuICAgIGNvbnN0IGZvcm1EYXRhID0gdGhpcy5nYXRoZXJQcm9qZWN0Rm9ybURhdGEoZXZlbnQpO1xuICAgIGlmIChmb3JtRGF0YSA9PT0gJycpIHtcbiAgICAgIC8vIEFkZCBzb21ldGhpbmcgdG8gbm90aWZ5IGVycm9yIHRvIHVzZXIgKG1heWJlIGNyZWF0ZSBhIG1vZGFsKVxuICAgICAgY29uc29sZS5sb2coXCJDb3VsZG4ndCBjcmVhdGUgUHJvamVjdFwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZm9ybURhdGFMb3dlcmNhc2UgPSBmb3JtRGF0YS50b0xvd2VyQ2FzZSgpO1xuICAgIGxldCBuZXdQcm9qZWN0ID0gbmV3IHByb2plY3RPYmplY3QoZm9ybURhdGFMb3dlcmNhc2UpO1xuICAgIHRoaXMuYWRkUHJvamVjdChuZXdQcm9qZWN0KTtcbiAgICBkY28ubG9hZFByb2plY3QoZm9ybURhdGFMb3dlcmNhc2UpO1xuICB9XG5cbiAgZ2F0aGVyUHJvamVjdEZvcm1EYXRhKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCBwcm9qZWN0TmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJbbmFtZT0ncHJvamVjdC1uYW1lJ11cIikudmFsdWU7XG4gICAgcmV0dXJuIHByb2plY3ROYW1lO1xuICB9XG5cbiAgcHJvamVjdE5hbWVDb2luY2lkZXMocHJvamVjdCwgcHJvamVjdE5hbWUpIHtcbiAgICByZXR1cm4gcHJvamVjdC5uYW1lID09PSBwcm9qZWN0TmFtZTtcbiAgfVxuXG4gIHNlYXJjaFByb2plY3QocHJvamVjdE5hbWUpIHtcbiAgICByZXR1cm4gdGhpcy5wcm9qZWN0TGlzdC5maW5kKHByb2plY3QgPT5cbiAgICAgIHRoaXMucHJvamVjdE5hbWVDb2luY2lkZXMocHJvamVjdCwgcHJvamVjdE5hbWUpKTtcbiAgfVxuXG4gIGdldCBwcm9qZWN0TGlzdCgpIHtcbiAgICByZXR1cm4gdGhpcy5fcHJvamVjdExpc3Q7XG4gIH1cblxuICBzZXQgcHJvamVjdExpc3QodmFsdWUpIHtcbiAgICB0aGlzLl9wcm9qZWN0TGlzdCA9IHZhbHVlO1xuICB9XG5cbiAgLy8gRnVuY3Rpb24gdG8gcmVtb3ZlIHByb2plY3RcbiAgLy8gRnVuY3Rpb24gdG8gc2VsZWN0IHByb2plY3Rcbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFRvZG8ge1xuICBjb25zdHJ1Y3RvcihhcmdzKSB7XG4gICAgdGhpcy50aXRsZSA9IGFyZ3NbJ3RpdGxlJ107XG4gICAgdGhpcy5kZXNjcmlwdGlvbiA9IGFyZ3NbJ2Rlc2NyaXB0aW9uJ107XG4gICAgdGhpcy5kdWVEYXRlID0gYXJnc1snZHVlRGF0ZSddO1xuICAgIHRoaXMucHJpb3JpdHkgPSBhcmdzWydwcmlvcml0eSddO1xuICB9XG59XG4iLCJpbXBvcnQgVG9kbyBmcm9tICcuL3RvZG8uanMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUb2RvTWFuYWdlciB7XG4gIHZhbGlkYXRlVG9kb0Zvcm0gPSAoZXZlbnQsIGFyZ3MpID0+IHtcbiAgICBjb25zdCBmb3JtRGF0YSA9IHRoaXMuZ2F0aGVyVG9kb0Zvcm1EYXRhKGV2ZW50KTtcbiAgICBpZiAoZm9ybURhdGEuaW5jbHVkZXMoJycpKSB7XG4gICAgICAvLyBBZGQgc29tZXRoaW5nIHRvIG5vdGlmeSBlcnJvciB0byB1c2VyIChtYXliZSB1c2UgYSBtb2RhbClcbiAgICAgIGNvbnNvbGUubG9nKFwiQ291bGRuJ3QgY3JlYXRlIFRvLWRvXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmFkZFRvZG9Ub1Byb2plY3QoZm9ybURhdGEsIGFyZ3MpO1xuICB9XG5cbiAgY3JlYXRlVG9kbyhmb3JtRGF0YSkge1xuICAgIHJldHVybiBuZXcgVG9kbyh7dGl0bGU6IGZvcm1EYXRhWzBdLCBkZXNjcmlwdGlvbjogZm9ybURhdGFbMV0sXG4gICAgICAgICAgICAgICAgICAgICBkdWVEYXRlOiBmb3JtRGF0YVsyXSwgcHJpb3JpdHk6IGZvcm1EYXRhWzNdfSk7XG4gIH1cblxuICBhZGRUb2RvVG9Qcm9qZWN0KGZvcm1EYXRhLCBhcmdzKSB7XG4gICAgbGV0IHBtID0gYXJnc1sncG0nXTtcbiAgICBsZXQgZGNvID0gYXJnc1snZGNvJ107XG4gICAgbGV0IG5ld1RvZG8gPSB0aGlzLmNyZWF0ZVRvZG8oZm9ybURhdGEpO1xuICAgIGxldCBwcm9qZWN0TmFtZSA9IGRjby5nZXRDdXJyZW50UHJvamVjdE5hbWUoKTtcbiAgICBsZXQgcHJvamVjdE9iamVjdCA9IHBtLnNlYXJjaFByb2plY3QocHJvamVjdE5hbWUpO1xuICAgIHByb2plY3RPYmplY3QuYWRkVG9kbyhuZXdUb2RvKTtcbiAgICBkY28ubG9hZFRvZG8oZGNvLmNyZWF0ZVRvZG8obmV3VG9kby50aXRsZSwgbmV3VG9kby5kZXNjcmlwdGlvbikpO1xuICAgIGRjby5yZW1vdmVGb3JtKCk7XG4gIH1cblxuICBnYXRoZXJUb2RvRm9ybURhdGEgPSAoZXZlbnQpID0+IHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IHRvZG9UaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJbbmFtZT0ndG9kby10aXRsZSddXCIpLnZhbHVlO1xuICAgIGNvbnN0IHRvZG9EZXNjcmlwdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJbbmFtZT0ndG9kby1kZXNjcmlwdGlvbiddXCIpLnZhbHVlO1xuICAgIGNvbnN0IHRvZG9EdWVEYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIltuYW1lPSd0b2RvLWR1ZURhdGUnXVwiKS52YWx1ZTtcbiAgICBjb25zdCB0b2RvUHJpb3JpdHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiW25hbWU9J3RvZG8tcHJpb3JpdHknXVwiKS52YWx1ZTtcbiAgICByZXR1cm4gW3RvZG9UaXRsZSwgdG9kb0Rlc2NyaXB0aW9uLCB0b2RvRHVlRGF0ZSwgdG9kb1ByaW9yaXR5XTtcbiAgfVxufVxuIiwiaW1wb3J0IFBhZ2VDb250cm9sbGVyIGZyb20gXCIuL3BhZ2UtY29udHJvbGxlci5qc1wiO1xuXG5jb25zdCBteVBhZ2VDb250cm9sbGVyID0gbmV3IFBhZ2VDb250cm9sbGVyO1xubXlQYWdlQ29udHJvbGxlci5sb2FkUGFnZSgpO1xuIiwiaW1wb3J0IERPTUNyZWF0b3IgZnJvbSAnLi9kb20tY3JlYXRvci5qcyc7XG5pbXBvcnQgRXZlbnRMaXN0ZW5lckFncmVnYXRvciBmcm9tICcuL2V2ZW50LWxpc3RlbmVyLWFncmVnYXRvci5qcyc7XG5pbXBvcnQgUHJvamVjdE1hbmFnZXIgZnJvbSAnLi9wcm9qZWN0LW1hbmFnZXIuanMnO1xuaW1wb3J0IFRvZG9NYW5hZ2VyIGZyb20gJy4vdG9kby1tYW5hZ2VyLmpzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGFnZUNvbnRyb2xsZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLm15RENPID0gbmV3IERPTUNyZWF0b3IoKTtcbiAgICB0aGlzLm15RUxBID0gbmV3IEV2ZW50TGlzdGVuZXJBZ3JlZ2F0b3IoKTtcbiAgICB0aGlzLm15UE0gPSBuZXcgUHJvamVjdE1hbmFnZXIoKTtcbiAgICB0aGlzLm15VE0gPSBuZXcgVG9kb01hbmFnZXIoKTtcbiAgfVxuXG4gIGxvYWRQYWdlKCkge1xuICAgIHRoaXMubXlEQ08ubG9hZFBhZ2UoKTtcbiAgICB0aGlzLm15RUxBLmFkZE5hdmJhckxpc3RlbmVyKHRoaXMuZ2V0TmF2QmFyQXJndW1lbnRzKCkpO1xuICAgIHRoaXMubXlFTEEuYWRkUHJvamVjdHNMaXN0TGlzdGVuZXIoeyBkY286IHRoaXMubXlEQ08sIHBtOiB0aGlzLm15UE0gfSk7XG4gIH1cblxuICBnZXROYXZCYXJBcmd1bWVudHMoKSB7XG4gICAgcmV0dXJuIHsgZGNvOiB0aGlzLm15RENPLFxuICAgICAgICAgICAgIHBtOiB0aGlzLm15UE0sXG4gICAgICAgICAgICAgdmFsaWRhdGVGdW5jdGlvbnM6IHRoaXMuZ2V0VmFsaWRhdGVGdW5jdGlvbnMoKSB9O1xuICB9XG5cbiAgZ2V0VmFsaWRhdGVGdW5jdGlvbnMoKSB7XG4gICAgbGV0IGZ1bmN0aW9ucyA9IFt0aGlzLm15VE0udmFsaWRhdGVUb2RvRm9ybSwgdGhpcy5teVBNLnZhbGlkYXRlUHJvamVjdEZvcm1dO1xuICAgIHJldHVybiBmdW5jdGlvbnM7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJGb3JtQ3JlYXRvciIsImNyZWF0ZVRvRG9Gb3JtIiwiYnV0dG9uIiwiZm9ybSIsInRoaXMiLCJjcmVhdGVGb3JtIiwibGFiZWxzIiwiY3JlYXRlTGFiZWxzIiwiaW5wdXRzIiwiY3JlYXRlVG9Eb0lucHV0cyIsImVsZW1lbnRzIiwiam9pbkxpc3RzIiwiYXBwZW5kSW5wdXRzVG9MYWJlbHMiLCJhcHBlbmRCdXR0b25zIiwiYXBwZW5kRWxlbWVudHNUb0Zvcm0iLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJhc3NpZ25BdHRyaWJ1dGUiLCJlbGVtZW50IiwiYXR0cmlidXRlIiwidmFsdWUiLCJzZXRBdHRyaWJ1dGUiLCJsYWJlbENvbnRlbnRzIiwiY29udGVudCIsInB1c2giLCJjcmVhdGVMYWJlbCIsImxhYmVsIiwidGV4dENvbnRlbnQiLCJ0ZXh0SW5wdXROYW1lcyIsInRleHRJbnB1dHMiLCJjcmVhdGVUZXh0SW5wdXRzIiwiZGlzdGluY3RJbnB1dHMiLCJjcmVhdGVEaXN0aW5jdElucHV0cyIsImlucHV0TmFtZXMiLCJuYW1lIiwiY3JlYXRlSW5wdXQiLCJ0eXBlIiwiaW5wdXQiLCJhdHRyaWJ1dGVzIiwidmFsdWVzIiwiYXNzaWduQXR0cmlidXRlcyIsImkiLCJsZW5ndGgiLCJjcmVhdGVEYXRldGltZUxvY2FsSW5wdXQiLCJjcmVhdGVOdW1iZXJJbnB1dCIsImdldEN1cnJlbnREYXRlIiwiRGF0ZSIsInRvSlNPTiIsInNsaWNlIiwibGFiZWxzRGVlcENvcHkiLCJkZWVwQ2xvbmVOb2RlcyIsImlucHV0c0RlZXBDb3B5IiwiYXBwZW5kQ2hpbGQiLCJmaXJzdExpc3QiLCJzZWNvbmRMaXN0IiwiY29uY2F0Iiwibm9kZXMiLCJkZWVwQ2xvbmVkTm9kZXMiLCJub2RlIiwiY2xvbmVOb2RlIiwiY3JlYXRlU3VibWl0QnV0dG9uIiwic3VibWl0QnV0dG9uIiwiZWxlbWVudHNEZWVwQ29weSIsImNyZWF0ZVByb2plY3RGb3JtIiwiRE9NQ3JlYXRvciIsImNvbnN0cnVjdG9yIiwiZm9ybUNyZWF0b3JPYmplY3QiLCJzY3JpcHQiLCJxdWVyeVNlbGVjdG9yIiwiZm9ybUNyZWF0b3IiLCJsb2FkUGFnZSIsImNyZWF0ZUhlYWRlciIsImNyZWF0ZVNpZGViYXIiLCJjcmVhdGVNYWluIiwiY3JlYXRlRm9vdGVyIiwiaGVhZGVyIiwibmF2IiwibmF2YmFyIiwiY3JlYXRlTmF2YmFyIiwicGFyZW50Tm9kZSIsImluc2VydEJlZm9yZSIsInVsIiwiY3JlYXRlVWwiLCJsaXN0RWxlbWVudHMiLCJjcmVhdGVCdXR0b24iLCJjbGFzc05hbWUiLCJhcHBlbmRMaXN0RWxlbWVudHMiLCJjbGFzc0xpc3QiLCJhZGQiLCJsaXN0IiwibG9hZEZvcm0iLCJjcmVhdGVGb3JtRnVuY3Rpb24iLCJtYWluIiwiYXJncyIsIm5ld0J1dHRvbiIsInJlbW92ZUZvcm0iLCJyZW1vdmUiLCJhZGRQcm9qZWN0VG9TaWRlYmFyIiwicHJvamVjdE5hbWUiLCJwcm9qZWN0c0xpc3QiLCJuZXdQcm9qZWN0IiwiY3JlYXRlTGkiLCJjcmVhdGVIZWFkaW5nIiwiaGVhZGluZyIsImhlYWRpbmdFbGVtZW50IiwibGkiLCJjcmVhdGVQcm9qZWN0c0xpc3QiLCJkZWZhdWx0QnV0dG9uIiwiY3JlYXRlRGl2IiwiZGVmYXVsdENvbnRhaW5lciIsImNyZWF0ZVByb2plY3RDb250YWluZXIiLCJwcm9qZWN0Q2xhc3NOYW1lIiwicmVwbGFjZSIsInByb2plY3RDb250YWluZXIiLCJwcm9qZWN0SGVhZGluZyIsInRvZG9MaXN0IiwibG9hZFRvZG9zIiwiZGl2IiwicHJvamVjdE9iamVjdCIsInNlYXJjaFByb2plY3QiLCJ0b2RvcyIsImNyZWF0ZVRvZG9zIiwibGlUb2RvcyIsInRvZG8iLCJjcmVhdGVUb2RvIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsImZvb3RlciIsImxvYWRQcm9qZWN0IiwiZm9ybURhdGEiLCJyZXBsYWNlUHJvamVjdENvbnRhaW5lciIsInJlbW92ZVByb2plY3RDb250YWluZXIiLCJnZXRDdXJyZW50UHJvamVjdENvbnRhaW5lciIsIm5ld1Byb2plY3RDb250YWluZXIiLCJnZXRUb2RvTGlzdCIsImdldEN1cnJlbnRQcm9qZWN0TmFtZSIsInNwbGl0IiwidG9kb0luZm8iLCJjcmVhdGVQYXJhZ3JhcGgiLCJwYXJhZ3JhcGgiLCJsb2FkVG9kbyIsIkV2ZW50TGlzdGVuZXJBZ3JlZ2F0b3IiLCJhZGROYXZiYXJMaXN0ZW5lciIsImFkZEV2ZW50TGlzdGVuZXIiLCJldmVudCIsImhhbmRsZU5hdmJhckJ1dHRvbnMiLCJkY28iLCJvYnRhaW5EQ08iLCJ2YWxpZGF0ZUZ1bmN0aW9ucyIsImJ1dHRvbkNsYXNzTmFtZSIsImdldEF0dHJpYnV0ZUZyb20iLCJ0YXJnZXQiLCJmb3JtRnVuY3Rpb24iLCJnZXRGb3JtRnVuY3Rpb24iLCJnZXRGb3JtQ3JlYXRvciIsImFkZEZvcm1MaXN0ZW5lciIsInZhbGlkYXRlRnVuY3Rpb24iLCJoYW5kbGVGb3JtQnV0dG9ucyIsImJ1dHRvblR5cGUiLCJhZGRQcm9qZWN0c0xpc3RMaXN0ZW5lciIsImhhbmRsZVByb2plY3RCdXR0b25zIiwicG0iLCJQcm9qZWN0IiwiYWRkVG9kbyIsIl9uYW1lIiwiX3RvZG9zIiwicmVtb3ZlVG9kbyIsIlByb2plY3RNYW5hZ2VyIiwicHJvamVjdExpc3QiLCJhZGRQcm9qZWN0IiwicHJvamVjdCIsInZhbGlkYXRlUHJvamVjdEZvcm0iLCJnYXRoZXJQcm9qZWN0Rm9ybURhdGEiLCJjb25zb2xlIiwibG9nIiwiZm9ybURhdGFMb3dlcmNhc2UiLCJ0b0xvd2VyQ2FzZSIsInByZXZlbnREZWZhdWx0IiwicHJvamVjdE5hbWVDb2luY2lkZXMiLCJmaW5kIiwiX3Byb2plY3RMaXN0IiwiVG9kbyIsImR1ZURhdGUiLCJwcmlvcml0eSIsIlRvZG9NYW5hZ2VyIiwidmFsaWRhdGVUb2RvRm9ybSIsImdhdGhlclRvZG9Gb3JtRGF0YSIsImluY2x1ZGVzIiwiYWRkVG9kb1RvUHJvamVjdCIsIm5ld1RvZG8iLCJteURDTyIsIm15RUxBIiwibXlQTSIsIm15VE0iLCJnZXROYXZCYXJBcmd1bWVudHMiLCJnZXRWYWxpZGF0ZUZ1bmN0aW9ucyJdLCJzb3VyY2VSb290IjoiIn0=